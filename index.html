<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Web Player</title>
    
    <link href="https://vjs.zencdn.net/8.6.1/video-js.css" rel="stylesheet" />

    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #000;
        }

        /* --- ITT A TRÜKK: A NATÍV VEZÉRLŐK ELREJTÉSE --- */
        /* Ez utasítja a WebKit alapú TV böngészőket, hogy rejtsék el a saját gombjaikat */
        video::-webkit-media-controls {
            display: none !important;
        }
        video::-webkit-media-controls-enclosure {
            display: none !important;
        }
        video::-webkit-media-controls-panel {
            display: none !important;
        }
        
        /* A saját lejátszónk maradjon látható */
        .video-js {
            width: 100vw !important;
            height: 100vh !important;
            position: absolute;
            top: 0;
            left: 0;
        }

        .vjs-big-play-button {
            top: 50% !important;
            left: 50% !important;
            transform: translate(-50%, -50%) scale(1.5) !important;
            background-color: rgba(0, 0, 0, 0.7) !important;
            border: 2px solid white !important;
            border-radius: 50% !important;
        }
        
        /* Video.js vezérlősáv stílusa - hogy mindig alul legyen */
        .vjs-control-bar {
            z-index: 9999 !important; /* Legyen minden felett */
            bottom: 0 !important;
            position: absolute !important;
        }
    </style>
</head>
<body>

    <video
        id="tv-player"
        class="video-js vjs-default-skin"
        playsinline
        webkit-playsinline>
    </video>

    <script src="https://vjs.zencdn.net/8.6.1/video.min.js"></script>

    <script>
        // URL paraméter olvasása
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        // Ha nincs paraméter, használjon egy teszt linket, vagy maradjon üres
        const videoUrl = urlParams.get('url'); 

        if (videoUrl) {
            var player = videojs('tv-player', {
                autoplay: true,
                controls: true, // A Video.js gombjai kellenek, de csak JS-ben kapcsoljuk be
                responsive: true,
                fluid: true,
                nativeControlsForTouch: false, // Ez fontos mobilos/TV-s érintés tiltáshoz
                html5: {
                    vhs: { overrideNative: true },
                    nativeAudioTracks: false,
                    nativeVideoTracks: false
                }
            });

            // Videó indítása
            let type = (videoUrl.indexOf('.m3u8') > -1) ? 'application/x-mpegURL' : 'video/mp4';
            
            player.src({
                src: videoUrl,
                type: type
            });

            player.play().catch(e => console.log("Autoplay tiltva, kattintás kell"));
        } else {
            document.write('<h1 style="color:white;text-align:center;margin-top:20%;">Add meg az URL-t paraméterként!</h1>');
        }
    </script>
</body>
</html>
